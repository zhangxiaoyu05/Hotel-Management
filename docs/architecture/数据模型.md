# 数据模型

## 用户模型 (User)

**用途：** 存储用户基本信息和认证数据

**关键属性：**
- id: Long - 用户唯一标识
- username: String - 用户名
- email: String - 邮箱地址
- phone: String - 手机号码
- password: String - 加密密码
- role: UserRole - 用户角色（USER/ADMIN）
- status: UserStatus - 用户状态（ACTIVE/INACTIVE）
- createdAt: LocalDateTime - 创建时间
- updatedAt: LocalDateTime - 更新时间

### TypeScript接口

```typescript
interface User {
  id: number;
  username: string;
  email: string;
  phone: string;
  role: 'USER' | 'ADMIN';
  status: 'ACTIVE' | 'INACTIVE';
  createdAt: string;
  updatedAt: string;
}

interface CreateUserRequest {
  username: string;
  email: string;
  phone: string;
  password: string;
  role?: 'USER' | 'ADMIN';
}
```

### 关系
- 一对多：用户可以创建多个订单
- 一对多：用户可以提交多个评价

## 酒店模型 (Hotel)

**用途：** 存储酒店基本信息和配置

**关键属性：**
- id: Long - 酒店唯一标识
- name: String - 酒店名称
- address: String - 酒店地址
- phone: String - 联系电话
- description: String - 酒店描述
- facilities: String - 设施信息（JSON格式）
- images: String - 酒店图片（JSON数组）
- status: HotelStatus - 酒店状态
- createdBy: Long - 创建者ID
- createdAt: LocalDateTime - 创建时间
- updatedAt: LocalDateTime - 更新时间

### TypeScript接口

```typescript
interface Hotel {
  id: number;
  name: string;
  address: string;
  phone: string;
  description: string;
  facilities: string[];
  images: string[];
  status: 'ACTIVE' | 'INACTIVE';
  createdBy: number;
  createdAt: string;
  updatedAt: string;
}
```

### 关系
- 一对多：酒店包含多个房间类型
- 一对多：酒店拥有多个房间

## 房间类型模型 (RoomType)

**用途：** 定义房间类别和基础价格

**关键属性：**
- id: Long - 房间类型唯一标识
- hotelId: Long - 所属酒店ID
- name: String - 房间类型名称
- capacity: Integer - 可容纳人数
- basePrice: BigDecimal - 基础价格
- facilities: String - 设施列表（JSON格式）
- description: String - 类型描述
- createdAt: LocalDateTime - 创建时间

### TypeScript接口

```typescript
interface RoomType {
  id: number;
  hotelId: number;
  name: string;
  capacity: number;
  basePrice: number;
  facilities: string[];
  description: string;
  createdAt: string;
}
```

### 关系
- 多对一：属于一个酒店
- 一对多：包含多个具体房间

## 房间模型 (Room)

**用途：** 存储具体房间信息和状态

**关键属性：**
- id: Long - 房间唯一标识
- hotelId: Long - 所属酒店ID
- roomTypeId: Long - 房间类型ID
- roomNumber: String - 房间号
- floor: Integer - 所在楼层
- area: Integer - 房间面积（平方米）
- status: RoomStatus - 房间状态
- price: BigDecimal - 当前价格
- images: String - 房间图片（JSON数组）
- createdAt: LocalDateTime - 创建时间
- updatedAt: LocalDateTime - 更新时间

### TypeScript接口

```typescript
interface Room {
  id: number;
  hotelId: number;
  roomTypeId: number;
  roomNumber: string;
  floor: number;
  area: number;
  status: 'AVAILABLE' | 'OCCUPIED' | 'MAINTENANCE' | 'CLEANING';
  price: number;
  images: string[];
  createdAt: string;
  updatedAt: string;
}
```

### 关系
- 多对一：属于一个酒店
- 多对一：属于一个房间类型
- 一对多：关联多个订单

## 订单模型 (Order)

**用途：** 存储预订订单信息

**关键属性：**
- id: Long - 订单唯一标识
- orderNumber: String - 订单号
- userId: Long - 用户ID
- roomId: Long - 房间ID
- checkInDate: LocalDate - 入住日期
- checkOutDate: LocalDate - 退房日期
- guestCount: Integer - 住宿人数
- totalPrice: BigDecimal - 总价格
- status: OrderStatus - 订单状态
- specialRequests: String - 特殊要求
- createdAt: LocalDateTime - 创建时间
- updatedAt: LocalDateTime - 更新时间

### TypeScript接口

```typescript
interface Order {
  id: number;
  orderNumber: string;
  userId: number;
  roomId: number;
  checkInDate: string;
  checkOutDate: string;
  guestCount: number;
  totalPrice: number;
  status: 'PENDING' | 'CONFIRMED' | 'CANCELLED' | 'COMPLETED';
  specialRequests?: string;
  createdAt: string;
  updatedAt: string;
}
```

### 关系
- 多对一：属于一个用户
- 多对一：关联一个房间

## 评价模型 (Review)

**用途：** 存储用户评价信息

**关键属性：**
- id: Long - 评价唯一标识
- userId: Long - 用户ID
- orderId: Long - 关联订单ID
- roomId: Long - 房间ID
- hotelId: Long - 酒店ID
- overallRating: Integer - 总体评分（1-5）
- cleanlinessRating: Integer - 清洁度评分
- serviceRating: Integer - 服务评分
- facilitiesRating: Integer - 设施评分
- locationRating: Integer - 位置评分
- comment: String - 评价内容
- images: String - 评价图片（JSON数组）
- isAnonymous: Boolean - 是否匿名
- status: ReviewStatus - 评价状态
- createdAt: LocalDateTime - 创建时间

### TypeScript接口

```typescript
interface Review {
  id: number;
  userId: number;
  orderId: number;
  roomId: number;
  hotelId: number;
  overallRating: number;
  cleanlinessRating: number;
  serviceRating: number;
  facilitiesRating: number;
  locationRating: number;
  comment: string;
  images: string[];
  isAnonymous: boolean;
  status: 'PENDING' | 'APPROVED' | 'REJECTED';
  createdAt: string;
}
```

### 关系
- 多对一：属于一个用户
- 多对一：关联一个订单
- 多对一：关联一个房间
- 多对一：属于一个酒店
