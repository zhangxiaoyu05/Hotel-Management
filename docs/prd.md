# 成都酒店综合管理系统产品需求文档 (PRD)

## 目标和背景上下文

### 目标
- 构建一个一体化的酒店管理平台，集成预约、评级和房间管理功能
- 为成都中小型酒店提供易用且高效的管理工具
- 实现用户权限分离，确保系统安全性和管理效率
- 支持至少5张数据库表的完整CRUD操作
- 提升酒店运营效率30%以上，减少人工错误

### 背景上下文
成都作为年接待游客超2.5亿人次的旅游城市，酒店行业数字化转型需求迫切。当前大多数中小酒店仍使用传统Excel或纸质记录管理，存在效率低下、预订冲突、用户体验差等问题。现有解决方案要么佣金过高（如国际平台），要么功能单一，无法满足本地酒店的综合管理需求。本系统通过Vue3 + SpringBoot技术栈，提供本地化、低成本的一站式解决方案。

### 变更日志
| 日期 | 版本 | 描述 | 作者 |
|------|------|------|------|
| 2025-12-06 | v1.0 | 初始PRD版本创建 | John (PM) |

## 需求

### 功能性需求

1. **FR1: 用户注册与登录系统** - 用户能够通过邮箱或手机号注册账户，使用密码登录系统
2. **FR2: 用户权限管理** - 系统支持管理员和普通用户两种角色，具有不同的功能访问权限
3. **FR3: 酒店信息管理** - 管理员能够创建、编辑、查看和删除酒店基本信息（名称、地址、联系方式、设施等）
4. **FR4: 房间信息管理** - 管理员能够管理房间信息（房间号、类型、价格、容量、状态、图片等）
5. **FR5: 在线预订系统** - 用户能够查看可用房间、选择日期、提交预订请求并确认订单
6. **FR6: 订单管理** - 用户和管理员能够查看订单状态、修改预订信息、取消订单
7. **FR7: 房间状态实时更新** - 系统自动更新房间可用性状态，避免重复预订
8. **FR8: 用户评价系统** - 用户能够对酒店服务进行评分（1-5星）和文字评价
9. **FR9: 评价展示与管理** - 系统展示用户评价，管理员能够回复评价或管理不当内容
10. **FR10: 管理员后台** - 提供数据统计报表、用户管理、系统设置等管理功能

### 非功能性需求

1. **NFR1: 性能要求** - 页面加载时间小于2秒，支持1000并发用户访问
2. **NFR2: 可用性** - 系统正常运行时间达到99.5%，提供7×24小时服务
3. **NFR3: 安全性** - 用户密码加密存储，使用JWT令牌认证，实施RBAC权限控制
4. **NFR4: 数据完整性** - 所有数据库表支持完整的CRUD操作，确保数据一致性
5. **NFR5: 响应式设计** - 支持桌面端和移动端访问，适配不同屏幕尺寸
6. **NFR6: 浏览器兼容性** - 支持Chrome、Firefox、Safari、Edge最新版本
7. **NFR7: 数据备份** - 定期自动备份用户和业务数据，支持数据恢复
8. **NFR8: 可扩展性** - 系统架构支持未来功能扩展和多酒店部署

## 用户界面设计目标

### 整体UX愿景
打造简洁直观、用户友好的酒店管理界面，通过清晰的视觉层次和直观的操作流程，让用户能够快速完成核心任务。界面设计应体现专业性和可信度，同时保持现代感和易用性的平衡。

### 关键交互范式
- **向导式流程：** 预订流程采用分步向导，降低用户认知负荷
- **实时反馈：** 所有操作提供即时的视觉反馈和状态更新
- **搜索驱动：** 通过智能搜索和筛选帮助用户快速找到所需信息
- **卡片式布局：** 信息展示采用卡片式设计，提高可读性和操作便捷性

### 核心界面和视图
- **登录/注册页面** - 用户身份验证入口
- **酒店首页** - 展示酒店概览信息和快速操作入口
- **房间列表页** - 房间搜索、筛选和管理界面
- **房间详情页** - 房间详细信息和预订入口
- **预订流程页** - 多步骤预订向导
- **用户中心** - 个人信息和订单管理
- **管理员仪表板** - 数据统计和系统管理
- **评价管理页** - 评价展示和回复界面

### 无障碍性: WCAG AA
遵循WCAG 2.1 AA级别无障碍标准，确保色盲友好、键盘导航支持、屏幕阅读器兼容等。

### 品牌
采用现代简约设计风格，主色调使用蓝色和灰色体现专业和可信度，辅以温暖的橙色提升友好感。界面元素保持一致性，建立统一的视觉语言。

### 目标设备和平台: Web Responsive
优先支持Web响应式设计，确保在桌面、平板和手机上都有良好体验。未来可扩展为移动端原生应用。

## 技术假设

### 仓库结构: Monorepo
采用Monorepo结构，前后端代码统一管理，便于版本控制和协作开发。

### 服务架构
基于微服务架构设计，初期采用单体应用快速开发，后续可拆分为以下服务：
- 用户服务（认证、权限、用户管理）
- 酒店服务（酒店信息、房间管理）
- 订单服务（预订、订单管理）
- 评价服务（评分、评论管理）
- 文件服务（图片上传、存储）

### 测试需求
采用完整测试金字塔策略：
- **单元测试：** 覆盖核心业务逻辑，目标覆盖率80%
- **集成测试：** 测试服务间接口和数据流转
- **端到端测试：** 关键用户流程自动化测试
- **性能测试：** 并发负载和压力测试

### 额外技术假设和请求
- **前端框架：** Vue 3 + TypeScript + Vite
- **UI组件库：** Element Plus
- **后端框架：** Spring Boot 2.7+
- **数据库：** MySQL 8.0 + Redis缓存
- **认证：** JWT + Spring Security
- **文件存储：** 阿里云OSS
- **部署：** Docker容器化部署
- **API文档：** Swagger/OpenAPI 3.0

## 史诗列表

### Epic 1: 基础设施与用户管理
建立项目基础架构、用户认证和权限管理系统，为后续功能开发奠定基础。

### Epic 2: 核心业务实体
创建和管理酒店、房间等核心业务实体，实现完整的CRUD操作。

### Epic 3: 预订业务流程
实现完整的在线预订流程，包括房间搜索、预订创建和订单管理。

### Epic 4: 用户评价系统
开发用户评价功能，包括评分、评论展示和管理。

### Epic 5: 管理员功能与数据统计
构建管理员后台，提供数据统计、用户管理和系统设置功能。

## Epic 1 基础设施与用户管理

**史诗目标：** 建立项目技术基础设施，实现用户注册登录和权限管理系统，确保系统安全性和可扩展性。

### Story 1.1 项目初始化与基础架构
**作为** 开发团队，
**我想要** 创建项目基础架构和开发环境，
**以便** 团队能够开始功能开发。

**验收标准：**
1. 前端Vue3项目初始化完成，配置TypeScript和Vite构建工具
2. 后端Spring Boot项目初始化完成，配置基础依赖和数据库连接
3. 数据库设计完成，创建5张核心表结构
4. Git仓库建立，配置分支策略和CI/CD流水线
5. 项目文档结构建立，包含README和开发指南

### Story 1.2 用户注册功能
**作为** 新用户，
**我想要** 通过邮箱或手机号注册账户，
**以便** 能够使用系统功能。

**验收标准：**
1. 注册页面实现，包含邮箱/手机号、密码、确认密码字段
2. 前端表单验证：邮箱格式、手机号格式、密码强度检查
3. 后端验证：用户唯一性检查、密码加密存储
4. 注册成功后自动跳转到登录页面
5. 错误处理：重复注册、格式错误等场景的友好提示

### Story 1.3 用户登录功能
**作为** 已注册用户，
**我想要** 使用邮箱/手机号和密码登录系统，
**以便** 访问个人账户和使用系统功能。

**验收标准：**
1. 登录页面实现，包含账号、密码字段和记住我选项
2. JWT令牌认证实现，登录成功后生成访问令牌
3. 前端存储令牌并自动携带到API请求中
4. 登录状态持久化，刷新页面后保持登录状态
5. 登录失败处理：账号密码错误、账户锁定等场景

### Story 1.4 用户权限管理系统
**作为** 系统管理员，
**我想要** 管理用户角色和权限，
**以便** 控制不同用户对系统功能的访问。

**验收标准：**
1. RBAC权限模型设计，包含管理员和普通用户两种角色
2. 用户管理界面实现，支持查看用户列表、分配角色
3. 权限拦截器实现，前端路由守卫和后端接口鉴权
4. 管理员可以启用/禁用用户账户
5. 权限变更实时生效，无需重新登录

### Story 1.5 个人信息管理
**作为** 用户，
**我想要** 查看和编辑个人基本信息，
**以便** 保持账户信息的准确性和完整性。

**验收标准：**
1. 个人中心页面实现，展示用户基本信息
2. 信息编辑功能：昵称、头像、联系方式等字段
3. 密码修改功能：验证原密码、设置新密码
4. 头像上传功能，支持图片格式验证和大小限制
5. 数据更新后实时反映在界面上

## Epic 2 核心业务实体

**史诗目标：** 实现酒店和房间信息的完整管理功能，为预订业务提供数据基础。

### Story 2.1 酒店信息管理
**作为** 酒店管理员，
**我想要** 创建和管理酒店基本信息，
**以便** 向用户展示酒店的特色和服务。

**验收标准：**
1. 酒店信息表单：名称、地址、联系电话、简介、设施等字段
2. 图片上传功能：酒店外观、大堂、客房等图片管理
3. 酒店信息CRUD操作：创建、查看、编辑、删除
4. 数据验证：必填字段检查、格式验证
5. 酒店列表页面：支持搜索、筛选和分页

### Story 2.2 房间类型管理
**作为** 酒店管理员，
**我想要** 定义和管理房间类型，
**以便** 对不同规格的房间进行分类管理。

**验收标准：**
1. 房间类型表单：类型名称、容量、基础价格、设施描述
2. 房间类型图标上传功能
3. 房间类型CRUD操作完整实现
4. 房间类型列表展示，支持排序和筛选
5. 房间类型与房间关联管理

### Story 2.3 房间信息管理
**作为** 酒店管理员，
**我想要** 管理每个具体房间的详细信息，
**以便** 准确展示房间状态和接受预订。

**验收标准：**
1. 房间信息表单：房间号、类型、面积、床型、价格、状态等
2. 房间图片管理：多张房间照片上传和展示
3. 房间状态管理：可用、已预订、维护中、清洁中等状态
4. 房间搜索功能：按房间号、类型、状态等条件搜索
5. 批量操作：批量更新房间状态、价格调整

### Story 2.4 房间价格策略
**作为** 酒店管理员，
**我想要** 设置灵活的房间定价策略，
**以便** 根据季节、节假日等因素调整价格。

**验收标准：**
1. 基础价格设置：每个房间类型的标准价格
2. 动态价格规则：周末、节假日价格上浮比例
3. 特殊价格设置：特定日期的个性化价格
4. 价格历史记录：价格变更的时间轴展示
5. 价格预览功能：显示未来日期的价格趋势

### Story 2.5 酒店设施管理
**作为** 酒店管理员，
**我想要** 管理酒店的配套设施信息，
**以便** 向用户全面展示酒店的服务能力。

**验收标准：**
1. 设施分类管理：客房设施、公共设施、服务设施等
2. 设施图标和描述：每个设施的图标和详细说明
3. 设施状态管理：正常、维护中、暂不可用等状态
4. 设施展示页面：按分类展示酒店所有设施
5. 设施搜索和筛选功能

## Epic 3 预订业务流程

**史诗目标：** 实现完整的在线预订流程，为用户提供便捷的房间预订服务。

### Story 3.1 房间搜索与展示
**作为** 用户，
**我想要** 搜索和浏览可用房间，
**以便** 找到符合需求的住宿选择。

**验收标准：**
1. 搜索条件：入住日期、退房日期、房间类型、人数等
2. 搜索结果展示：房间列表、图片、价格、设施信息
3. 筛选和排序：按价格、评分、距离等条件筛选排序
4. 房间详情页：完整的房间信息和预订入口
5. 搜索历史：记录用户的搜索条件，便于快速重复搜索

### Story 3.2 预订流程
**作为** 用户，
**我想要** 通过简单的步骤完成房间预订，
**以便** 确认住宿安排。

**验收标准：**
1. 多步骤预订向导：选择房间→填写信息→确认预订
2. 预订信息表单：入住人信息、特殊要求等
3. 价格计算：房费、服务费、优惠减免等明细
4. 预订确认：生成订单号和预订确认页面
5. 预订成功通知：站内消息和邮件通知

### Story 3.3 订单管理
**作为** 用户，
**我想要** 查看和管理我的预订订单，
**以便** 掌握住宿安排和进行必要修改。

**验收标准：**
1. 订单列表：显示所有预订订单的状态和时间
2. 订单详情：完整的预订信息和房间详情
3. 订单修改：修改入住人信息、特殊要求
4. 订单取消：取消订单并处理退款（如适用）
5. 订单状态跟踪：待确认、已确认、已完成、已取消等状态

### Story 3.4 房间状态管理
**作为** 系统，
**我想要** 实时更新和同步房间状态，
**以便** 避免重复预订和确保信息准确性。

**验收标准：**
1. 房间状态自动更新：预订成功后自动标记为已预订
2. 状态同步机制：前后端状态实时同步
3. 状态冲突检测：防止多人同时预订同一房间
4. 状态恢复机制：订单取消后自动恢复房间可用状态
5. 状态日志记录：房间状态变更的完整历史记录

### Story 3.5 预订冲突处理
**作为** 系统，
**我想要** 智能处理预订冲突，
**以便** 提供良好的用户体验和系统稳定性。

**验收标准：**
1. 冲突检测：实时检测房间预订的时间冲突
2. 冲突提示：友好的错误提示和替代建议
3. 等待列表：用户可选择加入等待列表
4. 冲突解决：房间释放时自动通知等待用户
5. 冲突统计：记录和分析预订冲突数据

## Epic 4 用户评价系统

**史诗目标：** 建立完善的用户评价机制，帮助酒店提升服务质量和用户决策参考。

### Story 4.1 评价提交功能
**作为** 用户，
**我想要** 对入住体验进行评价，
**以便** 分享我的意见和帮助其他用户。

**验收标准：**
1. 评价表单：星级评分、文字评价、图片上传
2. 评分维度：清洁度、服务态度、设施、位置等多个维度
3. 文字评价：字数限制、敏感词过滤
4. 图片上传：评价图片上传和管理
5. 匿名评价选项：用户可选择匿名评价

### Story 4.2 评价展示系统
**作为** 用户，
**我想要** 查看其他用户的评价，
**以便** 做出更好的预订决策。

**验收标准：**
1. 评价列表：按时间、评分排序展示评价
2. 评价筛选：按评分、时间、评价类型筛选
3. 评价详情：完整展示评价内容和图片
4. 评价统计：各维度平均分和评价分布
5. 评价分页：大量评价的分页加载

### Story 4.3 评价管理功能
**作为** 酒店管理员，
**我想要** 管理用户评价，
**以便** 维护评价质量和回复用户反馈。

**验收标准：**
1. 评价审核：查看待审核评价，通过或拒绝
2. 评价回复：管理员可对评价进行公开回复
3. 不当评价处理：标记、隐藏或删除违规评价
4. 评价统计：评价数量、评分趋势等数据分析
5. 批量操作：批量处理多个评价

### Story 4.4 评价评分统计
**作为** 酒店管理员，
**我想要** 查看评价的统计和分析，
**以便** 了解服务质量和改进方向。

**验收标准：**
1. 综合评分：总体评分和各维度评分展示
2. 评分趋势：评分随时间的变化趋势
3. 评价词云：从评价文本提取关键词
4. 对比分析：与同类酒店评分对比
5. 改进建议：基于评价数据的改进建议

### Story 4.5 评价激励系统
**作为** 系统，
**我想要** 激励用户提交高质量评价，
**以便** 增加评价数量和质量。

**验收标准：**
1. 评价提醒：入住后自动提醒用户评价
2. 积分奖励：提交评价获得积分奖励
3. 优质评价标识：高质量评价获得特殊标识
4. 评价排行榜：评价数量和质量排行
5. 评价活动：定期评价奖励活动

## Epic 5 管理员功能与数据统计

**史诗目标：** 构建强大的管理员后台，提供数据洞察和系统管理能力。

### Story 5.1 管理员仪表板
**作为** 管理员，
**我想要** 查看系统运营的关键数据，
**以便** 了解业务状况和做出决策。

**验收标准：**
1. 核心指标：今日订单数、入住率、收入等关键数据
2. 实时数据：房间状态、最新订单等实时信息
3. 数据图表：趋势图、饼图、柱状图等可视化展示
4. 快速操作：常用功能的快速入口
5. 数据刷新：实时或定时刷新数据

### Story 5.2 用户管理
**作为** 管理员，
**我想要** 管理系统用户，
**以便** 维护系统安全和用户关系。

**验收标准：**
1. 用户列表：查看所有用户信息和状态
2. 用户搜索：按用户名、邮箱、注册时间等搜索
3. 用户详情：查看用户详细信息和操作历史
4. 用户状态管理：启用、禁用、删除用户账户
5. 批量操作：批量处理多个用户

### Story 5.3 数据统计报表
**作为** 管理员，
**我想要** 生成和查看各种业务报表，
**以便** 分析业务趋势和制定策略。

**验收标准：**
1. 订单报表：按时间、房型、渠道等维度的订单统计
2. 收入报表：收入明细、趋势分析、预测模型
3. 用户报表：用户增长、活跃度、留存率分析
4. 房间报表：房间使用率、收入贡献分析
5. 报表导出：支持Excel、PDF格式导出

### Story 5.4 系统设置
**作为** 管理员，
**我想要** 配置系统参数和规则，
**以便** 灵活调整系统行为。

**验收标准：**
1. 基础设置：系统名称、Logo、联系方式等
2. 业务规则：预订政策、取消规则、价格策略
3. 通知设置：邮件模板、短信配置、通知规则
4. 安全设置：密码策略、登录限制、权限配置
5. 备份设置：数据备份频率、存储位置

### Story 5.5 日志管理
**作为** 管理员，
**我想要** 查看系统操作日志，
**以便** 监控系统使用和排查问题。

**验收标准：**
1. 操作日志：记录所有用户的关键操作
2. 登录日志：记录用户登录和退出信息
3. 错误日志：记录系统错误和异常信息
4. 日志搜索：按时间、用户、操作类型搜索日志
5. 日志导出：支持日志数据的导出功能

## 检查表结果报告

此部分将在完成PRD后执行PM检查表并填充结果。

## 下一步

### UX专家提示
请基于此PRD文档开始用户体验设计，重点关注预订流程的简化和用户界面的直观性。确保设计符合WCAG AA无障碍标准，并为管理员和普通用户提供不同的界面体验。

### 架构师提示
请基于此PRD文档开始系统架构设计，重点关注微服务架构的可扩展性、数据库设计的完整性，以及Vue3 + SpringBoot技术栈的最佳实践。确保系统满足性能、安全和可用性要求。